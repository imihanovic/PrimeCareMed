@page "/appointment/detail/{id:Guid}"
@model PrimeCareMed.Frontend.Pages.Appointment.ViewAppointmentDetailsModel
@{
    ViewData["Title"] = "Appointment Details";
}
<div class="container text-center d-flex align-items-center justify-content-center">
    <div>
        <div>
            <h1>@ViewData["Title"]</h1>
        </div>
        <div>
            <form id="appointmentDetailsForm" method="post">
                <hr />
                <div class="nameSurnameDetails">
                    <font size="+3">
                    <b>
                        @Model.Appointment.PatientMbo
                        @Model.Appointment.PatientFirstName @Model.Appointment.PatientLastName
                        </b> (@Model.Appointment.PatientDateOfBirth.ToString("dd.MM.yyyy")) <br />
                    </font>
                </div>
                <div class="nameSurnameDetails">
                    <font size="+1">
                        <b>
                            Cause <br />
                        </b>
                            @Model.Appointment.Cause
                    </font>
                </div>
                
                <div class="form-floating align-items-center justify-content-center mt-2">
                    @*<button asp-page-handler="medicalreport" class=" col-5">
                        <i class="bi bi-person-fill-check"> New medical report</i>
                    </button><br />*@
                    @if(Model.MedicalReport is null)
                    {
                       
                        <a class="btn btn-outline-success" asp-area="" asp-page="/MedicalReport/CreateMedicalReport" asp-route-id="@Model.Appointment.Id"><i class="bi bi-person-fill-check"></i> Medical report</a> <br />
                    }
                    else
                    {
                        <font size="+1">
                            <b>
                                Medical report <br />
                            </b>
                            @Model.MedicalReport.Description
                        </font>
                       <a class="btn btn-outline-success" asp-area="" asp-page="/MedicalReport/CreateMedicalReport" asp-route-id="@Model.Appointment.Id"><i class="bi bi-person-fill-check"></i> Edit</a><br />
                    }
                    <button asp-page-handler="vaccine" class="btn btn-outline-success col-5"
                            runat="server" CausesValidation="False">
                        <i class="bi bi-trash3-fill"> Add vaccine</i>
                    </button>
                    <a class="btn btn-outline-success" asp-area="" asp-page="/MedicalReport/CreateMedicalReport" asp-route-id="@Model.Appointment.Id"><i class="bi bi-person-fill-check"></i> New vaccine</a><br />
                    <br />
                    <a class="btn btn-outline-success" asp-area="" asp-page="/MedicinePrescription/CreateMedicinePrescription" asp-route-id="@Model.Appointment.Id"><i class="bi bi-person-fill-check"></i> Medicine prescription</a>
                </div>
            </form>
            @if (ViewData["Message"] != null)
            {
                <script type="text/javascript">
                    window.onload = function () {
                        alert("@ViewData["Message"]");
                    };
                </script>
            }
        </div>
    </div>
</div>
<a asp-area="" asp-page="/Appointment/WaitingRoom" class="btn btn-primary" aria-current="page">
    <i class="fas fa-utensils"></i> WaitingRoom
</a>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
